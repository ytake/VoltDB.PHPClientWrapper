language: php

php:
  - 5.4
  
compiler:
  - gcc-4.8
  
install:
  - sudo add-apt-repository --yes ppa:ubuntu-toolchain-r/test
  - sudo apt-get -qq update
  - sudo apt-get -qq install g++-4.8

before_script:
  - git clone https://github.com/VoltDB/voltdb.git
  - cd voltdb
  - ant 
  - cd ..
  - git clone -b noexceptions https://github.com/VoltDB/voltdb-client-cpp.git
  - cd voltdb-client-cpp
  - make
  - curl -s http://getcomposer.org/installer | php
  - php composer.phar install --dev

script: phpunit

notifications:
  emails:
    - yuuki.takezawa@comnect.jp.net
